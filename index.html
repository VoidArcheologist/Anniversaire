<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Special Quiz</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
body {
  font-family: 'Georgia', serif;
  background: linear-gradient(135deg, #f8e8ff, #e0f7fa);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
}

.card {
  background: white;
  padding: 30px;
  width: 95%;
  max-width: 420px;
  border-radius: 16px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.15);
  text-align: center;
  position: relative;
  overflow: hidden;
}

.page { display: none; }
.page.active { display: block; }

h1 { margin-bottom: 15px; }
p { margin-bottom: 20px; }

input {
  width: 100%;
  padding: 10px;
  font-size: 1rem;
  border-radius: 6px;
  border: 1px solid #ccc;
  margin-bottom: 15px;
}

button {
  padding: 10px 20px;
  border-radius: 8px;
  border: none;
  background: #8e24aa;
  color: white;
  font-size: 1rem;
  cursor: pointer;
}

.error {
  font-size: 2.5rem;
  color: red;
  opacity: 0;
  transition: opacity 0.3s;
  margin-top: 10px;
}
.error.show { opacity: 1; }

.drag-container {
  display: flex;
  justify-content: space-around;
  flex-wrap: wrap;
  gap: 10px;
}

.choice {
  padding: 8px 12px;
  background: #ce93d8;
  border-radius: 8px;
  color: #4a148c;
  cursor: pointer;
}

.choice.selected { outline: 3px solid #8e24aa; }

.dropzone {
  min-height: 40px;
  border: 2px dashed #aaa;
  border-radius: 8px;
  margin-top: 5px;
  padding: 5px;
}

img { width: 90px; border-radius: 10px; }

/* ================= PAGE 5 LEAVES ================= */

#page5 { position: relative; overflow: hidden; }

.leaf {
  position: absolute;
  width: 120px;
  height: 120px;
  background: radial-gradient(circle at 30% 30%, #c8e6c9, #81c784);
  border-radius: 60% 40% 60% 40%;
  opacity: 0.3;
  animation: sway 6s ease-in-out infinite;
}

.leaf1 { top: -40px; left: -50px; }
.leaf2 { bottom: -50px; right: -40px; animation-delay: 2s; }

@keyframes sway {
  0%,100% { transform: rotate(0deg) translateY(0); }
  50% { transform: rotate(5deg) translateY(5px); }
}

/* CONFIRM BOX */

.confirm {
  margin-top: 20px;
  padding: 20px;
  border-radius: 16px;
  background: linear-gradient(135deg, #f1f8e9, #e8f5e9);
  display: none;
  animation: fadeUp 0.4s ease;
}

.confirm-buttons {
  display: flex;
  gap: 15px;
}

.confirm-buttons button { flex: 1; }
.confirm-buttons .yes { background: #66bb6a; }
.confirm-buttons .no { background: #ef9a9a; }

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ================= FINAL PAGE GROWTH ================= */

#finalPage { position: relative; overflow: hidden; }

.vine {
  position: absolute;
  width: 6px;
  background: linear-gradient(to top, #2e7d32, #81c784);
  bottom: 0;
  animation: grow 6s linear infinite;
  transform-origin: bottom;
}

.v1 { left: 10%; animation-delay: 0s; }
.v2 { left: 30%; animation-delay: 2s; }
.v3 { left: 60%; animation-delay: 1s; }
.v4 { left: 80%; animation-delay: 3s; }

@keyframes grow {
  0% { height: 0; opacity: 0; }
  20% { opacity: 1; }
  100% { height: 120%; opacity: 0; }
}
</style>
</head>

<body>
<div class="card">

<!-- PAGE 1 -->
<div class="page active">
  <h1>Hello</h1>
  <p>This is a very special day ! Here is a little quizz for you :)</p>
  <button onclick="nextPage()">Begin</button>
</div>

<!-- PAGE 2 -->
<div class="page" data-answer="oliebollen">
  <h1>Question</h1>
  <p>What makes everything better?</p>
  <input type="text" />
  <button onclick="checkAnswer(this)">Submit</button>
  <div class="error">❌</div>
</div>

<!-- PAGE 3 -->
<div class="page" id="page3">
  <h1>As a true dutch person you should get this on your first try !</h1>
  <div class="drag-container">
    <div><img src="Semper_Augustus.jpg"><div class="dropzone" data-answer="Semper Augustus"></div></div>
    <div><img src="Admiral_van_der_Eijck.jpg"><div class="dropzone" data-answer="Admiral van der Eijck"></div></div>
    <div><img src="Viseroij.png"><div class="dropzone" data-answer="Viseroij"></div></div>
  </div>
  <div class="drag-container">
    <div class="choice">Semper Augustus</div>
    <div class="choice">Admiral van der Eijck</div>
    <div class="choice">Viseroij</div>
  </div>
  <button onclick="checkTapMatch()">Submit</button>
  <div class="error">❌</div>
</div>

<!-- PAGE 4 -->
<div class="page">
  <h1>Who is this ?</h1>
  <img src="Crazy_Hannah.jpg" />
  <div class="drag-container">
    <div class="choice" onclick="nextPage()">A spawn from Hell</div>
    <div class="choice" onclick="nextPage()">The bearer of half of my genes</div>
    <div class="choice" onclick="nextPage()">The cat's pet</div>
  </div>
</div>

<!-- PAGE 5 -->
<div class="page" id="page5">
  <h1>What is Flo's flaw ?</h1>
  <input type="text" id="magicInput" />
  <button onclick="checkMagic()">Submit</button>

  <div class="confirm" id="confirmBox">
    <p>You really mean it ?</p>
    <div class="confirm-buttons">
      <button class="yes" onclick="nextPage()">Yes</button>
      <button class="no" onclick="rejectConfirm()">No</button>
    </div>
  </div>

  <div class="error">❌</div>
  <div class="leaf leaf1"></div>
  <div class="leaf leaf2"></div>
</div>

<!-- PAGE 6 FINAL -->
<div class="page" id="finalPage">
  <h1>Fijne Verjaardag</h1>
  <p>I hope you feel younger than ever,</p>
  <p>because you sure look like it !</p>

  <div class="vine v1"></div>
  <div class="vine v2"></div>
  <div class="vine v3"></div>
  <div class="vine v4"></div>
</div>

</div>

<script>
let current = 0;
const pages = document.querySelectorAll('.page');

function nextPage() {
  pages[current].classList.remove('active');
  current++;
  pages[current].classList.add('active');
}

function normalize(str) {
  return str.toLowerCase().replace(/[_\s]+/g, ' ').trim();
}

function checkAnswer(btn) {
  const page = btn.parentElement;
  const input = normalize(page.querySelector('input').value);
  const correct = normalize(page.dataset.answer);
  const error = page.querySelector('.error');
  if (input === correct) nextPage();
  else { error.classList.add('show'); setTimeout(()=>error.classList.remove('show'),800); }
}

let selected=null;
document.querySelectorAll('.choice').forEach(c=>{
  c.addEventListener('click',()=>{
    document.querySelectorAll('.choice').forEach(x=>x.classList.remove('selected'));
    selected=c.textContent; c.classList.add('selected');
  });
});

document.querySelectorAll('#page3 .dropzone').forEach(z=>{
  z.addEventListener('click',()=>{ if(selected) z.textContent=selected; });
});

function checkTapMatch() {
  const page=document.getElementById('page3');
  const zones=page.querySelectorAll('.dropzone');
  const error=page.querySelector('.error');
  for(let z of zones){
    if(normalize(z.textContent)!==normalize(z.dataset.answer)){
      error.classList.add('show');
      zones.forEach(d=>d.textContent='');
      setTimeout(()=>error.classList.remove('show'),800);
      return;
    }
  }
  nextPage();
}

const fixed="He's perfect";
const magic=document.getElementById('magicInput');
let index=0;

magic.addEventListener('input',()=>{
  index=Math.min(index+1,fixed.length);
  magic.value=fixed.slice(0,index);
});

function checkMagic(){
  if(magic.value===fixed)
    document.getElementById('confirmBox').style.display='block';
}

function rejectConfirm(){
  const e=document.querySelector('#page5 .error');
  e.classList.add('show');
  setTimeout(()=>e.classList.remove('show'),800);
}
</script>
</body>
</html>
