<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Special Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: 'Georgia', serif;
      background: linear-gradient(135deg, #f8e8ff, #e0f7fa);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .card {
      background: white;
      padding: 30px;
      width: 95%;
      max-width: 420px;
      border-radius: 16px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.15);
      text-align: center;
    }

    .page { display: none; }
    .page.active { display: block; }

    h1 { margin-bottom: 15px; }
    p { margin-bottom: 20px; }

    input {
      width: 100%;
      padding: 10px;
      font-size: 1rem;
      border-radius: 6px;
      border: 1px solid #ccc;
      margin-bottom: 15px;
    }

    button {
      padding: 10px 20px;
      border-radius: 8px;
      border: none;
      background: #8e24aa;
      color: white;
      font-size: 1rem;
    }

    .decor {
      font-size: 2rem;
      margin-bottom: 10px;
    }

    .error {
      font-size: 2.5rem;
      color: red;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .error.show { opacity: 1; }

    .drag-container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      gap: 10px;
    }

    .draggable {
      padding: 8px 12px;
      background: #ce93d8;
      border-radius: 8px;
      color: #4a148c;
      cursor: grab;
    }

    .dropzone {
      min-height: 40px;
      border: 2px dashed #aaa;
      border-radius: 8px;
      margin-top: 5px;
      padding: 5px;
    }

    img { width: 90px; border-radius: 10px; }
  </style>
</head>
<body>

<div class="card">

  <!-- PAGE 1 WELCOME -->
  <div class="page active">
    <div class="decor">‚ú®üå∏‚ú®</div>
    <h1>Welcome</h1>
    <p>This little journey is made with care and love.</p>
    <button onclick="nextPage()">Begin</button>
  </div>

  <!-- PAGE 2 QUESTION -->
  <div class="page" data-answer="love">
    <h1>Question</h1>
    <p>What makes everything better?</p>
    <input type="text" />
    <button onclick="checkAnswer(this)">Submit</button>
    <div class="error">‚ùå</div>
  </div>

  <!-- PAGE 3 DRAG MATCH -->
  <div class="page" id="page3">
    <h1>Match them</h1>
    <div class="drag-container">
      <div>
        <img src="Semper_Augustus.jpg" />
        <div class="dropzone" data-answer="Cat"></div>
      </div>
      <div>
        <img src="Admiral_van_der_Eijck.jpg" />
        <div class="dropzone" data-answer="Dog"></div>
      </div>
      <div>
        <img src="Viseroij.png" />
        <div class="dropzone" data-answer="Bird"></div>
      </div>
    </div>

    <div class="drag-container">
      <div class="draggable" draggable="true">Cat</div>
      <div class="draggable" draggable="true">Dog</div>
      <div class="draggable" draggable="true">Bird</div>
    </div>

    <button onclick="checkDragPage()">Continue</button>
  </div>

  <!-- PAGE 4 ALL VALID -->
  <div class="page">
    <h1>Choose one üéÄ</h1>
    <img src="https://via.placeholder.com/120" />
    <div class="drag-container">
      <div class="draggable" draggable="true">Choice 1</div>
      <div class="draggable" draggable="true">Choice 2</div>
      <div class="draggable" draggable="true">Choice 3</div>
    </div>
    <div class="dropzone" ondrop="nextPage()" ondragover="allowDrop(event)"></div>
  </div>

  <!-- PAGE 5 MAGIC TEXT -->
  <div class="page">
    <h1>Write something</h1>
    <input type="text" id="magicInput" />
  </div>

  <!-- PAGE 6 REWARD -->
  <div class="page">
    <h1>üíñ Reward üíñ</h1>
    <p>You made it to the end.</p>
    <p>You are truly special.</p>
  </div>

</div>

<script>
let current = 0;
const pages = document.querySelectorAll('.page');

function nextPage() {
  pages[current].classList.remove('active');
  current++;
  pages[current].classList.add('active');
}

function checkAnswer(btn) {
  const page = btn.parentElement;
  const input = page.querySelector('input').value.trim().toLowerCase();
  const correct = page.dataset.answer;
  const error = page.querySelector('.error');

  if (input === correct) nextPage();
  else {
    error.classList.add('show');
    setTimeout(() => error.classList.remove('show'), 800);
  }
}

// DRAG & DROP (mobile compatible)
let dragged;

document.addEventListener('dragstart', e => dragged = e.target);

document.querySelectorAll('.dropzone').forEach(zone => {
  zone.addEventListener('dragover', e => e.preventDefault());
  zone.addEventListener('drop', e => {
    e.preventDefault();
    zone.textContent = dragged.textContent;
  });
});

function checkDragPage() {
  const zones = document.querySelectorAll('#page3 .dropzone');
  for (let z of zones) {
    if (z.textContent !== z.dataset.answer) return;
  }
  nextPage();
}

// MAGIC INPUT
const fixed = "He's perfect";
const magic = document.getElementById('magicInput');
let index = 0;

magic.addEventListener('input', () => {
  index = Math.min(index + 1, fixed.length);
  magic.value = fixed.slice(0, index);
  if (index === fixed.length) setTimeout(nextPage, 800);
});
</script>

</body>
</html>
